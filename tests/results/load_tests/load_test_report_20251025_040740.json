{"created": 1761365270.4730837, "duration": 8.595330715179443, "exitcode": 1, "root": "/home/melodeiro/crawl4ai-rag-mcp", "environment": {}, "summary": {"failed": 3, "passed": 3, "total": 6, "collected": 6}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput", "type": "Class"}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency", "type": "Class"}]}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_search_tool_throughput", "type": "Coroutine", "lineno": 364}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_scrape_urls_throughput", "type": "Coroutine", "lineno": 408}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_perform_rag_query_throughput", "type": "Coroutine", "lineno": 435}]}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_search_latency_single_user", "type": "Coroutine", "lineno": 473}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_search_latency_concurrent_users", "type": "Coroutine", "lineno": 498}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_rag_query_latency_distribution", "type": "Coroutine", "lineno": 536}]}], "tests": [{"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_search_tool_throughput", "lineno": 364, "outcome": "failed", "keywords": ["test_search_tool_throughput", "asyncio", "pytestmark", "TestMCPThroughput", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0015273489989340305, "outcome": "passed"}, "call": {"duration": 1.6033516739262268, "outcome": "failed", "crash": {"path": "/home/melodeiro/crawl4ai-rag-mcp/tests/integration/test_mcp_load_testing.py", "lineno": 396, "message": "AssertionError: Success rate 0.0% below threshold\nassert 0.0 >= 95.0\n +  where 0.0 = LoadTestMetrics(total_requests=100, successful_requests=0, failed_requests=100, total_duration_seconds=1.6021580696105957, response_times_ms=[87.71848678588867, 15.959978103637695, 15.71512222290039, 15.787839889526367, 15.682220458984375, 16.123294830322266, 15.347719192504883, 15.230894088745117, 15.241861343383789, 14.95218276977539, 15.575647354125977, 15.96975326538086, 16.38936996459961, 15.635490417480469, 15.494823455810547, 14.465570449829102, 15.092611312866211, 15.486478805541992, 14.815807342529297, 14.764785766601562, 15.475273132324219, 15.082597732543945, 15.863418579101562, 40.491580963134766, 15.195846557617188, 14.768362045288086, 15.46335220336914, 15.408515930175781, 15.126705169677734, 14.128684997558594, 14.372587203979492, 14.360904693603516, 14.698266983032227, 14.754056930541992, 15.188217163085938, 14.110565185546875, 14.641523361206055, 14.50204849243164, 15.804767608642578, 14.764070510864258, 16.119956970214844, 14.776945114135742, 15.076160430908203, 14.713525772094727, 14.998674392700195, 14.696598052978516, 15.486478805541992, 15.285491943359375, 15.656709671020508, 14.494657516479492, 15.434503555297852, 14.520883560180664, 14.93692398071289, 13.927936553955078, 14.42575454711914, 14.31727409362793, 14.815330505371094, 14.464378356933594, 15.7318115234375, 15.281438827514648, 15.449285507202148, 14.861345291137695, 15.11383056640625, 15.3961181640625, 15.494585037231445, 14.924764633178711, 15.492677688598633, 15.10763168334961, 16.057729721069336, 14.24407958984375, 15.292882919311523, 13.86713981628418, 14.169692993164062, 15.291452407836914, 14.127492904663086, 14.642477035522461, 14.47153091430664, 15.43736457824707, 14.70947265625, 15.14577865600586, 55.670976638793945, 14.807939529418945, 15.709877014160156, 15.85245132446289, 14.638662338256836, 15.627861022949219, 14.127969741821289, 14.412641525268555, 13.894796371459961, 15.724658966064453, 14.284372329711914, 14.617204666137695, 14.877796173095703, 13.959646224975586, 14.175891876220703, 15.302419662475586, 14.641523361206055, 17.66514778137207, 15.658140182495117, 14.538764953613281], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found', 'Request 51: HTTP 404: Not Found', 'Request 52: HTTP 404: Not Found', 'Request 53: HTTP 404: Not Found', 'Request 54: HTTP 404: Not Found', 'Request 55: HTTP 404: Not Found', 'Request 56: HTTP 404: Not Found', 'Request 57: HTTP 404: Not Found', 'Request 58: HTTP 404: Not Found', 'Request 59: HTTP 404: Not Found', 'Request 60: HTTP 404: Not Found', 'Request 61: HTTP 404: Not Found', 'Request 62: HTTP 404: Not Found', 'Request 63: HTTP 404: Not Found', 'Request 64: HTTP 404: Not Found', 'Request 65: HTTP 404: Not Found', 'Request 66: HTTP 404: Not Found', 'Request 67: HTTP 404: Not Found', 'Request 68: HTTP 404: Not Found', 'Request 69: HTTP 404: Not Found', 'Request 70: HTTP 404: Not Found', 'Request 71: HTTP 404: Not Found', 'Request 72: HTTP 404: Not Found', 'Request 74: HTTP 404: Not Found', 'Request 73: HTTP 404: Not Found', 'Request 76: HTTP 404: Not Found', 'Request 77: HTTP 404: Not Found', 'Request 78: HTTP 404: Not Found', 'Request 79: HTTP 404: Not Found', 'Request 80: HTTP 404: Not Found', 'Request 81: HTTP 404: Not Found', 'Request 75: HTTP 404: Not Found', 'Request 82: HTTP 404: Not Found', 'Request 83: HTTP 404: Not Found', 'Request 84: HTTP 404: Not Found', 'Request 85: HTTP 404: Not Found', 'Request 86: HTTP 404: Not Found', 'Request 87: HTTP 404: Not Found', 'Request 88: HTTP 404: Not Found', 'Request 90: HTTP 404: Not Found', 'Request 89: HTTP 404: Not Found', 'Request 91: HTTP 404: Not Found', 'Request 92: HTTP 404: Not Found', 'Request 93: HTTP 404: Not Found', 'Request 94: HTTP 404: Not Found', 'Request 95: HTTP 404: Not Found', 'Request 96: HTTP 404: Not Found', 'Request 97: HTTP 404: Not Found', 'Request 98: HTTP 404: Not Found', 'Request 99: HTTP 404: Not Found', 'Request 100: HTTP 404: Not Found'], memory_usage_mb=[121.67578125, 123.3203125, 123.578125, 123.578125, 123.578125, 123.578125, 123.578125, 123.8359375, 123.8359375, 123.8359375], cpu_percent=[0.0, 6.5, 9.5, 0.0, 13.5, 0.0, 13.4, 14.0, 20.7, 0.0]).success_rate"}, "traceback": [{"path": "tests/integration/test_mcp_load_testing.py", "lineno": 396, "message": "AssertionError"}], "stdout": "\n============================================================\nSEARCH TOOL THROUGHPUT TEST\n============================================================\n{\n  \"total_requests\": 100,\n  \"successful_requests\": 0,\n  \"failed_requests\": 100,\n  \"success_rate_percent\": 0.0,\n  \"total_duration_seconds\": 1.6,\n  \"throughput_rps\": 62.42,\n  \"response_times\": {\n    \"avg_ms\": 16.44,\n    \"min_ms\": 13.87,\n    \"max_ms\": 87.72,\n    \"p50_ms\": 15.1,\n    \"p95_ms\": 16.39,\n    \"p99_ms\": 87.72\n  },\n  \"resource_usage\": {\n    \"avg_memory_mb\": 123.44,\n    \"peak_memory_mb\": 123.84,\n    \"avg_cpu_percent\": 7.76\n  },\n  \"errors\": [\n    \"Request 1: HTTP 404: Not Found\",\n    \"Request 2: HTTP 404: Not Found\",\n    \"Request 3: HTTP 404: Not Found\",\n    \"Request 4: HTTP 404: Not Found\",\n    \"Request 5: HTTP 404: Not Found\",\n    \"Request 6: HTTP 404: Not Found\",\n    \"Request 7: HTTP 404: Not Found\",\n    \"Request 8: HTTP 404: Not Found\",\n    \"Request 9: HTTP 404: Not Found\",\n    \"Request 10: HTTP 404: Not Found\"\n  ],\n  \"error_count\": 100\n}\n", "longrepr": "self = <tests.integration.test_mcp_load_testing.TestMCPThroughput object at 0x7f8222781f90>\nload_tester = <tests.integration.test_mcp_load_testing.MCPLoadTester object at 0x7f822251dbe0>\nperformance_thresholds = {'max_avg_response_time_ms': 2000, 'max_cpu_percent': 80, 'max_memory_growth_mb': 500, 'max_p95_response_time_ms': 5000, ...}\n\n    @pytest.mark.asyncio\n    async def test_search_tool_throughput(self, load_tester, performance_thresholds):\n        \"\"\"Test throughput of the search tool under sustained load.\"\"\"\n    \n        def args_generator(request_num, worker_id):\n            \"\"\"Generate search queries.\"\"\"\n            queries = [\n                \"Python async programming\",\n                \"FastAPI performance\",\n                \"Vector database optimization\",\n                \"RAG best practices\",\n                \"Web scraping techniques\",\n            ]\n            return {\"query\": queries[request_num % len(queries)], \"num_results\": 5}\n    \n        # Run load test\n        metrics = await load_tester.run_load_test(\n            tool_name=\"search\",\n            args_generator=args_generator,\n            num_requests=100,\n            concurrency=5,\n            ramp_up_seconds=2,\n        )\n    \n        # Print results\n        print(\"\\n\" + \"=\" * 60)\n        print(\"SEARCH TOOL THROUGHPUT TEST\")\n        print(\"=\" * 60)\n        print(json.dumps(metrics.to_dict(), indent=2))\n    \n        # Validate against thresholds\n>       assert (\n            metrics.success_rate >= performance_thresholds[\"min_success_rate_percent\"]\n        ), f\"Success rate {metrics.success_rate}% below threshold\"\nE       AssertionError: Success rate 0.0% below threshold\nE       assert 0.0 >= 95.0\nE        +  where 0.0 = LoadTestMetrics(total_requests=100, successful_requests=0, failed_requests=100, total_duration_seconds=1.6021580696105957, response_times_ms=[87.71848678588867, 15.959978103637695, 15.71512222290039, 15.787839889526367, 15.682220458984375, 16.123294830322266, 15.347719192504883, 15.230894088745117, 15.241861343383789, 14.95218276977539, 15.575647354125977, 15.96975326538086, 16.38936996459961, 15.635490417480469, 15.494823455810547, 14.465570449829102, 15.092611312866211, 15.486478805541992, 14.815807342529297, 14.764785766601562, 15.475273132324219, 15.082597732543945, 15.863418579101562, 40.491580963134766, 15.195846557617188, 14.768362045288086, 15.46335220336914, 15.408515930175781, 15.126705169677734, 14.128684997558594, 14.372587203979492, 14.360904693603516, 14.698266983032227, 14.754056930541992, 15.188217163085938, 14.110565185546875, 14.641523361206055, 14.50204849243164, 15.804767608642578, 14.764070510864258, 16.119956970214844, 14.776945114135742, 15.076160430908203, 14.713525772094727, 14.998674392700195, 14.696598052978516, 15.486478805541992, 15.285491943359375, 15.656709671020508, 14.494657516479492, 15.434503555297852, 14.520883560180664, 14.93692398071289, 13.927936553955078, 14.42575454711914, 14.31727409362793, 14.815330505371094, 14.464378356933594, 15.7318115234375, 15.281438827514648, 15.449285507202148, 14.861345291137695, 15.11383056640625, 15.3961181640625, 15.494585037231445, 14.924764633178711, 15.492677688598633, 15.10763168334961, 16.057729721069336, 14.24407958984375, 15.292882919311523, 13.86713981628418, 14.169692993164062, 15.291452407836914, 14.127492904663086, 14.642477035522461, 14.47153091430664, 15.43736457824707, 14.70947265625, 15.14577865600586, 55.670976638793945, 14.807939529418945, 15.709877014160156, 15.85245132446289, 14.638662338256836, 15.627861022949219, 14.127969741821289, 14.412641525268555, 13.894796371459961, 15.724658966064453, 14.284372329711914, 14.617204666137695, 14.877796173095703, 13.959646224975586, 14.175891876220703, 15.302419662475586, 14.641523361206055, 17.66514778137207, 15.658140182495117, 14.538764953613281], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found', 'Request 51: HTTP 404: Not Found', 'Request 52: HTTP 404: Not Found', 'Request 53: HTTP 404: Not Found', 'Request 54: HTTP 404: Not Found', 'Request 55: HTTP 404: Not Found', 'Request 56: HTTP 404: Not Found', 'Request 57: HTTP 404: Not Found', 'Request 58: HTTP 404: Not Found', 'Request 59: HTTP 404: Not Found', 'Request 60: HTTP 404: Not Found', 'Request 61: HTTP 404: Not Found', 'Request 62: HTTP 404: Not Found', 'Request 63: HTTP 404: Not Found', 'Request 64: HTTP 404: Not Found', 'Request 65: HTTP 404: Not Found', 'Request 66: HTTP 404: Not Found', 'Request 67: HTTP 404: Not Found', 'Request 68: HTTP 404: Not Found', 'Request 69: HTTP 404: Not Found', 'Request 70: HTTP 404: Not Found', 'Request 71: HTTP 404: Not Found', 'Request 72: HTTP 404: Not Found', 'Request 74: HTTP 404: Not Found', 'Request 73: HTTP 404: Not Found', 'Request 76: HTTP 404: Not Found', 'Request 77: HTTP 404: Not Found', 'Request 78: HTTP 404: Not Found', 'Request 79: HTTP 404: Not Found', 'Request 80: HTTP 404: Not Found', 'Request 81: HTTP 404: Not Found', 'Request 75: HTTP 404: Not Found', 'Request 82: HTTP 404: Not Found', 'Request 83: HTTP 404: Not Found', 'Request 84: HTTP 404: Not Found', 'Request 85: HTTP 404: Not Found', 'Request 86: HTTP 404: Not Found', 'Request 87: HTTP 404: Not Found', 'Request 88: HTTP 404: Not Found', 'Request 90: HTTP 404: Not Found', 'Request 89: HTTP 404: Not Found', 'Request 91: HTTP 404: Not Found', 'Request 92: HTTP 404: Not Found', 'Request 93: HTTP 404: Not Found', 'Request 94: HTTP 404: Not Found', 'Request 95: HTTP 404: Not Found', 'Request 96: HTTP 404: Not Found', 'Request 97: HTTP 404: Not Found', 'Request 98: HTTP 404: Not Found', 'Request 99: HTTP 404: Not Found', 'Request 100: HTTP 404: Not Found'], memory_usage_mb=[121.67578125, 123.3203125, 123.578125, 123.578125, 123.578125, 123.578125, 123.578125, 123.8359375, 123.8359375, 123.8359375], cpu_percent=[0.0, 6.5, 9.5, 0.0, 13.5, 0.0, 13.4, 14.0, 20.7, 0.0]).success_rate\n\ntests/integration/test_mcp_load_testing.py:396: AssertionError"}, "teardown": {"duration": 0.0013679140247404575, "outcome": "passed"}}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_scrape_urls_throughput", "lineno": 408, "outcome": "failed", "keywords": ["test_scrape_urls_throughput", "asyncio", "pytestmark", "TestMCPThroughput", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0007522039813920856, "outcome": "passed"}, "call": {"duration": 0.6694363569840789, "outcome": "failed", "crash": {"path": "/home/melodeiro/crawl4ai-rag-mcp/tests/integration/test_mcp_load_testing.py", "lineno": 433, "message": "AssertionError: assert 0.0 >= 95.0\n +  where 0.0 = LoadTestMetrics(total_requests=50, successful_requests=0, failed_requests=50, total_duration_seconds=0.6684424877166748, response_times_ms=[74.08905029296875, 33.2951545715332, 15.393972396850586, 15.007257461547852, 14.644384384155273, 15.561342239379883, 15.647649765014648, 15.388965606689453, 15.409231185913086, 15.419244766235352, 15.279054641723633, 16.247987747192383, 16.8612003326416, 15.414953231811523, 14.894485473632812, 15.66767692565918, 15.593528747558594, 15.552997589111328, 15.788793563842773, 15.923738479614258, 54.03590202331543, 15.686988830566406, 15.729665756225586, 31.647920608520508, 15.465736389160156, 15.259981155395508, 14.842748641967773, 14.158248901367188, 14.514923095703125, 15.281915664672852, 15.707731246948242, 14.575958251953125, 15.517950057983398, 15.443086624145508, 14.980077743530273, 15.894174575805664, 15.197038650512695, 15.101432800292969, 14.70041275024414, 14.694929122924805, 14.351367950439453, 14.258623123168945, 14.382123947143555, 15.57469367980957, 15.039920806884766, 14.712333679199219, 15.578031539916992, 15.537500381469727, 14.067649841308594, 14.461755752563477], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found'], memory_usage_mb=[127.1796875, 127.1796875, 127.1796875, 127.1796875, 127.1796875], cpu_percent=[0.0, 7.1, 10.7, 0.0, 13.5]).success_rate"}, "traceback": [{"path": "tests/integration/test_mcp_load_testing.py", "lineno": 433, "message": "AssertionError"}], "stdout": "\n============================================================\nSCRAPE_URLS THROUGHPUT TEST\n============================================================\n{\n  \"total_requests\": 50,\n  \"successful_requests\": 0,\n  \"failed_requests\": 50,\n  \"success_rate_percent\": 0.0,\n  \"total_duration_seconds\": 0.67,\n  \"throughput_rps\": 74.8,\n  \"response_times\": {\n    \"avg_ms\": 17.87,\n    \"min_ms\": 14.07,\n    \"max_ms\": 74.09,\n    \"p50_ms\": 15.41,\n    \"p95_ms\": 33.3,\n    \"p99_ms\": 74.09\n  },\n  \"resource_usage\": {\n    \"avg_memory_mb\": 127.18,\n    \"peak_memory_mb\": 127.18,\n    \"avg_cpu_percent\": 6.26\n  },\n  \"errors\": [\n    \"Request 1: HTTP 404: Not Found\",\n    \"Request 2: HTTP 404: Not Found\",\n    \"Request 3: HTTP 404: Not Found\",\n    \"Request 4: HTTP 404: Not Found\",\n    \"Request 5: HTTP 404: Not Found\",\n    \"Request 6: HTTP 404: Not Found\",\n    \"Request 7: HTTP 404: Not Found\",\n    \"Request 8: HTTP 404: Not Found\",\n    \"Request 9: HTTP 404: Not Found\",\n    \"Request 10: HTTP 404: Not Found\"\n  ],\n  \"error_count\": 50\n}\n", "longrepr": "self = <tests.integration.test_mcp_load_testing.TestMCPThroughput object at 0x7f8222434cd0>\nload_tester = <tests.integration.test_mcp_load_testing.MCPLoadTester object at 0x7f8222436490>\nperformance_thresholds = {'max_avg_response_time_ms': 2000, 'max_cpu_percent': 80, 'max_memory_growth_mb': 500, 'max_p95_response_time_ms': 5000, ...}\n\n    @pytest.mark.asyncio\n    async def test_scrape_urls_throughput(self, load_tester, performance_thresholds):\n        \"\"\"Test throughput of the scrape_urls tool.\"\"\"\n    \n        def args_generator(request_num, worker_id):\n            \"\"\"Generate URLs to scrape.\"\"\"\n            return {\n                \"url\": f\"https://example.com/page{request_num}\",\n                \"return_raw_markdown\": True,\n            }\n    \n        metrics = await load_tester.run_load_test(\n            tool_name=\"scrape_urls\",\n            args_generator=args_generator,\n            num_requests=50,\n            concurrency=3,\n            ramp_up_seconds=1,\n        )\n    \n        print(\"\\n\" + \"=\" * 60)\n        print(\"SCRAPE_URLS THROUGHPUT TEST\")\n        print(\"=\" * 60)\n        print(json.dumps(metrics.to_dict(), indent=2))\n    \n>       assert metrics.success_rate >= performance_thresholds[\"min_success_rate_percent\"]\nE       AssertionError: assert 0.0 >= 95.0\nE        +  where 0.0 = LoadTestMetrics(total_requests=50, successful_requests=0, failed_requests=50, total_duration_seconds=0.6684424877166748, response_times_ms=[74.08905029296875, 33.2951545715332, 15.393972396850586, 15.007257461547852, 14.644384384155273, 15.561342239379883, 15.647649765014648, 15.388965606689453, 15.409231185913086, 15.419244766235352, 15.279054641723633, 16.247987747192383, 16.8612003326416, 15.414953231811523, 14.894485473632812, 15.66767692565918, 15.593528747558594, 15.552997589111328, 15.788793563842773, 15.923738479614258, 54.03590202331543, 15.686988830566406, 15.729665756225586, 31.647920608520508, 15.465736389160156, 15.259981155395508, 14.842748641967773, 14.158248901367188, 14.514923095703125, 15.281915664672852, 15.707731246948242, 14.575958251953125, 15.517950057983398, 15.443086624145508, 14.980077743530273, 15.894174575805664, 15.197038650512695, 15.101432800292969, 14.70041275024414, 14.694929122924805, 14.351367950439453, 14.258623123168945, 14.382123947143555, 15.57469367980957, 15.039920806884766, 14.712333679199219, 15.578031539916992, 15.537500381469727, 14.067649841308594, 14.461755752563477], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found'], memory_usage_mb=[127.1796875, 127.1796875, 127.1796875, 127.1796875, 127.1796875], cpu_percent=[0.0, 7.1, 10.7, 0.0, 13.5]).success_rate\n\ntests/integration/test_mcp_load_testing.py:433: AssertionError"}, "teardown": {"duration": 0.0012323629343882203, "outcome": "passed"}}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_perform_rag_query_throughput", "lineno": 435, "outcome": "failed", "keywords": ["test_perform_rag_query_throughput", "asyncio", "pytestmark", "TestMCPThroughput", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0007881040219217539, "outcome": "passed"}, "call": {"duration": 1.8019963309634477, "outcome": "failed", "crash": {"path": "/home/melodeiro/crawl4ai-rag-mcp/tests/integration/test_mcp_load_testing.py", "lineno": 465, "message": "AssertionError: assert 0.0 >= 95.0\n +  where 0.0 = LoadTestMetrics(total_requests=100, successful_requests=0, failed_requests=100, total_duration_seconds=1.800973653793335, response_times_ms=[44.39282417297363, 15.805959701538086, 15.67387580871582, 15.523433685302734, 15.758037567138672, 15.796899795532227, 16.53003692626953, 16.0064697265625, 16.071319580078125, 15.572786331176758, 14.841556549072266, 16.34812355041504, 15.532732009887695, 15.714168548583984, 56.038618087768555, 15.573740005493164, 15.056848526000977, 15.810489654541016, 15.26498794555664, 15.700101852416992, 15.372276306152344, 15.874147415161133, 15.337467193603516, 16.298770904541016, 15.719890594482422, 15.97285270690918, 15.182733535766602, 15.595197677612305, 14.863252639770508, 15.113592147827148, 17.8682804107666, 14.734268188476562, 14.414072036743164, 15.115976333618164, 14.528036117553711, 15.20991325378418, 14.442920684814453, 16.83950424194336, 15.284061431884766, 15.994787216186523, 57.482004165649414, 20.061016082763672, 15.48314094543457, 15.708684921264648, 14.910221099853516, 15.306949615478516, 15.288591384887695, 14.580249786376953, 15.289783477783203, 14.463663101196289, 14.117956161499023, 15.30909538269043, 14.511823654174805, 14.239072799682617, 15.10930061340332, 14.458894729614258, 14.749765396118164, 15.948295593261719, 15.565633773803711, 15.18702507019043, 16.00193977355957, 14.949798583984375, 14.853239059448242, 15.362262725830078, 14.801502227783203, 14.683961868286133, 14.835834503173828, 17.050504684448242, 16.478776931762695, 15.022993087768555, 14.197111129760742, 15.05136489868164, 15.49386978149414, 15.172719955444336, 15.349388122558594, 15.823841094970703, 15.448331832885742, 40.7261848449707, 19.950151443481445, 15.561580657958984, 15.30313491821289, 15.910863876342773, 15.276193618774414, 15.317440032958984, 15.227794647216797, 15.099287033081055, 14.283180236816406, 15.380382537841797, 15.504837036132812, 15.110015869140625, 14.221429824829102, 15.357255935668945, 16.073226928710938, 15.81883430480957, 16.804933547973633, 16.312599182128906, 15.90418815612793, 16.402721405029297, 15.46478271484375, 15.967607498168945], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found', 'Request 51: HTTP 404: Not Found', 'Request 52: HTTP 404: Not Found', 'Request 53: HTTP 404: Not Found', 'Request 54: HTTP 404: Not Found', 'Request 55: HTTP 404: Not Found', 'Request 56: HTTP 404: Not Found', 'Request 57: HTTP 404: Not Found', 'Request 58: HTTP 404: Not Found', 'Request 59: HTTP 404: Not Found', 'Request 60: HTTP 404: Not Found', 'Request 61: HTTP 404: Not Found', 'Request 62: HTTP 404: Not Found', 'Request 63: HTTP 404: Not Found', 'Request 64: HTTP 404: Not Found', 'Request 65: HTTP 404: Not Found', 'Request 66: HTTP 404: Not Found', 'Request 68: HTTP 404: Not Found', 'Request 67: HTTP 404: Not Found', 'Request 69: HTTP 404: Not Found', 'Request 70: HTTP 404: Not Found', 'Request 72: HTTP 404: Not Found', 'Request 71: HTTP 404: Not Found', 'Request 74: HTTP 404: Not Found', 'Request 75: HTTP 404: Not Found', 'Request 76: HTTP 404: Not Found', 'Request 77: HTTP 404: Not Found', 'Request 79: HTTP 404: Not Found', 'Request 73: HTTP 404: Not Found', 'Request 78: HTTP 404: Not Found', 'Request 80: HTTP 404: Not Found', 'Request 81: HTTP 404: Not Found', 'Request 82: HTTP 404: Not Found', 'Request 83: HTTP 404: Not Found', 'Request 84: HTTP 404: Not Found', 'Request 85: HTTP 404: Not Found', 'Request 86: HTTP 404: Not Found', 'Request 87: HTTP 404: Not Found', 'Request 88: HTTP 404: Not Found', 'Request 89: HTTP 404: Not Found', 'Request 90: HTTP 404: Not Found', 'Request 91: HTTP 404: Not Found', 'Request 92: HTTP 404: Not Found', 'Request 93: HTTP 404: Not Found', 'Request 94: HTTP 404: Not Found', 'Request 95: HTTP 404: Not Found', 'Request 96: HTTP 404: Not Found', 'Request 97: HTTP 404: Not Found', 'Request 98: HTTP 404: Not Found', 'Request 99: HTTP 404: Not Found', 'Request 100: HTTP 404: Not Found'], memory_usage_mb=[128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125], cpu_percent=[0.0, 9.1, 12.6, 0.0, 15.9, 0.0, 33.8, 21.2, 0.0, 21.5]).success_rate"}, "traceback": [{"path": "tests/integration/test_mcp_load_testing.py", "lineno": 465, "message": "AssertionError"}], "stdout": "\n============================================================\nRAG QUERY THROUGHPUT TEST\n============================================================\n{\n  \"total_requests\": 100,\n  \"successful_requests\": 0,\n  \"failed_requests\": 100,\n  \"success_rate_percent\": 0.0,\n  \"total_duration_seconds\": 1.8,\n  \"throughput_rps\": 55.53,\n  \"response_times\": {\n    \"avg_ms\": 16.88,\n    \"min_ms\": 14.12,\n    \"max_ms\": 57.48,\n    \"p50_ms\": 15.41,\n    \"p95_ms\": 20.06,\n    \"p99_ms\": 57.48\n  },\n  \"resource_usage\": {\n    \"avg_memory_mb\": 128.81,\n    \"peak_memory_mb\": 128.81,\n    \"avg_cpu_percent\": 11.41\n  },\n  \"errors\": [\n    \"Request 1: HTTP 404: Not Found\",\n    \"Request 2: HTTP 404: Not Found\",\n    \"Request 3: HTTP 404: Not Found\",\n    \"Request 4: HTTP 404: Not Found\",\n    \"Request 5: HTTP 404: Not Found\",\n    \"Request 6: HTTP 404: Not Found\",\n    \"Request 7: HTTP 404: Not Found\",\n    \"Request 8: HTTP 404: Not Found\",\n    \"Request 9: HTTP 404: Not Found\",\n    \"Request 10: HTTP 404: Not Found\"\n  ],\n  \"error_count\": 100\n}\n", "longrepr": "self = <tests.integration.test_mcp_load_testing.TestMCPThroughput object at 0x7f82225e1e00>\nload_tester = <tests.integration.test_mcp_load_testing.MCPLoadTester object at 0x7f82224365d0>\nperformance_thresholds = {'max_avg_response_time_ms': 2000, 'max_cpu_percent': 80, 'max_memory_growth_mb': 500, 'max_p95_response_time_ms': 5000, ...}\n\n    @pytest.mark.asyncio\n    async def test_perform_rag_query_throughput(\n        self, load_tester, performance_thresholds\n    ):\n        \"\"\"Test throughput of RAG query operations.\"\"\"\n    \n        def args_generator(request_num, worker_id):\n            \"\"\"Generate RAG queries.\"\"\"\n            queries = [\n                \"How to implement async functions?\",\n                \"Best practices for error handling\",\n                \"Database connection pooling\",\n                \"API rate limiting strategies\",\n            ]\n            return {\"query\": queries[request_num % len(queries)], \"match_count\": 5}\n    \n        metrics = await load_tester.run_load_test(\n            tool_name=\"perform_rag_query\",\n            args_generator=args_generator,\n            num_requests=100,\n            concurrency=10,\n            ramp_up_seconds=2,\n        )\n    \n        print(\"\\n\" + \"=\" * 60)\n        print(\"RAG QUERY THROUGHPUT TEST\")\n        print(\"=\" * 60)\n        print(json.dumps(metrics.to_dict(), indent=2))\n    \n>       assert metrics.success_rate >= performance_thresholds[\"min_success_rate_percent\"]\nE       AssertionError: assert 0.0 >= 95.0\nE        +  where 0.0 = LoadTestMetrics(total_requests=100, successful_requests=0, failed_requests=100, total_duration_seconds=1.800973653793335, response_times_ms=[44.39282417297363, 15.805959701538086, 15.67387580871582, 15.523433685302734, 15.758037567138672, 15.796899795532227, 16.53003692626953, 16.0064697265625, 16.071319580078125, 15.572786331176758, 14.841556549072266, 16.34812355041504, 15.532732009887695, 15.714168548583984, 56.038618087768555, 15.573740005493164, 15.056848526000977, 15.810489654541016, 15.26498794555664, 15.700101852416992, 15.372276306152344, 15.874147415161133, 15.337467193603516, 16.298770904541016, 15.719890594482422, 15.97285270690918, 15.182733535766602, 15.595197677612305, 14.863252639770508, 15.113592147827148, 17.8682804107666, 14.734268188476562, 14.414072036743164, 15.115976333618164, 14.528036117553711, 15.20991325378418, 14.442920684814453, 16.83950424194336, 15.284061431884766, 15.994787216186523, 57.482004165649414, 20.061016082763672, 15.48314094543457, 15.708684921264648, 14.910221099853516, 15.306949615478516, 15.288591384887695, 14.580249786376953, 15.289783477783203, 14.463663101196289, 14.117956161499023, 15.30909538269043, 14.511823654174805, 14.239072799682617, 15.10930061340332, 14.458894729614258, 14.749765396118164, 15.948295593261719, 15.565633773803711, 15.18702507019043, 16.00193977355957, 14.949798583984375, 14.853239059448242, 15.362262725830078, 14.801502227783203, 14.683961868286133, 14.835834503173828, 17.050504684448242, 16.478776931762695, 15.022993087768555, 14.197111129760742, 15.05136489868164, 15.49386978149414, 15.172719955444336, 15.349388122558594, 15.823841094970703, 15.448331832885742, 40.7261848449707, 19.950151443481445, 15.561580657958984, 15.30313491821289, 15.910863876342773, 15.276193618774414, 15.317440032958984, 15.227794647216797, 15.099287033081055, 14.283180236816406, 15.380382537841797, 15.504837036132812, 15.110015869140625, 14.221429824829102, 15.357255935668945, 16.073226928710938, 15.81883430480957, 16.804933547973633, 16.312599182128906, 15.90418815612793, 16.402721405029297, 15.46478271484375, 15.967607498168945], errors=['Request 1: HTTP 404: Not Found', 'Request 2: HTTP 404: Not Found', 'Request 3: HTTP 404: Not Found', 'Request 4: HTTP 404: Not Found', 'Request 5: HTTP 404: Not Found', 'Request 6: HTTP 404: Not Found', 'Request 7: HTTP 404: Not Found', 'Request 8: HTTP 404: Not Found', 'Request 9: HTTP 404: Not Found', 'Request 10: HTTP 404: Not Found', 'Request 11: HTTP 404: Not Found', 'Request 13: HTTP 404: Not Found', 'Request 14: HTTP 404: Not Found', 'Request 15: HTTP 404: Not Found', 'Request 12: HTTP 404: Not Found', 'Request 16: HTTP 404: Not Found', 'Request 17: HTTP 404: Not Found', 'Request 18: HTTP 404: Not Found', 'Request 19: HTTP 404: Not Found', 'Request 20: HTTP 404: Not Found', 'Request 21: HTTP 404: Not Found', 'Request 22: HTTP 404: Not Found', 'Request 23: HTTP 404: Not Found', 'Request 24: HTTP 404: Not Found', 'Request 25: HTTP 404: Not Found', 'Request 26: HTTP 404: Not Found', 'Request 27: HTTP 404: Not Found', 'Request 28: HTTP 404: Not Found', 'Request 29: HTTP 404: Not Found', 'Request 30: HTTP 404: Not Found', 'Request 31: HTTP 404: Not Found', 'Request 32: HTTP 404: Not Found', 'Request 33: HTTP 404: Not Found', 'Request 34: HTTP 404: Not Found', 'Request 35: HTTP 404: Not Found', 'Request 37: HTTP 404: Not Found', 'Request 38: HTTP 404: Not Found', 'Request 39: HTTP 404: Not Found', 'Request 40: HTTP 404: Not Found', 'Request 41: HTTP 404: Not Found', 'Request 36: HTTP 404: Not Found', 'Request 42: HTTP 404: Not Found', 'Request 43: HTTP 404: Not Found', 'Request 44: HTTP 404: Not Found', 'Request 45: HTTP 404: Not Found', 'Request 46: HTTP 404: Not Found', 'Request 47: HTTP 404: Not Found', 'Request 48: HTTP 404: Not Found', 'Request 49: HTTP 404: Not Found', 'Request 50: HTTP 404: Not Found', 'Request 51: HTTP 404: Not Found', 'Request 52: HTTP 404: Not Found', 'Request 53: HTTP 404: Not Found', 'Request 54: HTTP 404: Not Found', 'Request 55: HTTP 404: Not Found', 'Request 56: HTTP 404: Not Found', 'Request 57: HTTP 404: Not Found', 'Request 58: HTTP 404: Not Found', 'Request 59: HTTP 404: Not Found', 'Request 60: HTTP 404: Not Found', 'Request 61: HTTP 404: Not Found', 'Request 62: HTTP 404: Not Found', 'Request 63: HTTP 404: Not Found', 'Request 64: HTTP 404: Not Found', 'Request 65: HTTP 404: Not Found', 'Request 66: HTTP 404: Not Found', 'Request 68: HTTP 404: Not Found', 'Request 67: HTTP 404: Not Found', 'Request 69: HTTP 404: Not Found', 'Request 70: HTTP 404: Not Found', 'Request 72: HTTP 404: Not Found', 'Request 71: HTTP 404: Not Found', 'Request 74: HTTP 404: Not Found', 'Request 75: HTTP 404: Not Found', 'Request 76: HTTP 404: Not Found', 'Request 77: HTTP 404: Not Found', 'Request 79: HTTP 404: Not Found', 'Request 73: HTTP 404: Not Found', 'Request 78: HTTP 404: Not Found', 'Request 80: HTTP 404: Not Found', 'Request 81: HTTP 404: Not Found', 'Request 82: HTTP 404: Not Found', 'Request 83: HTTP 404: Not Found', 'Request 84: HTTP 404: Not Found', 'Request 85: HTTP 404: Not Found', 'Request 86: HTTP 404: Not Found', 'Request 87: HTTP 404: Not Found', 'Request 88: HTTP 404: Not Found', 'Request 89: HTTP 404: Not Found', 'Request 90: HTTP 404: Not Found', 'Request 91: HTTP 404: Not Found', 'Request 92: HTTP 404: Not Found', 'Request 93: HTTP 404: Not Found', 'Request 94: HTTP 404: Not Found', 'Request 95: HTTP 404: Not Found', 'Request 96: HTTP 404: Not Found', 'Request 97: HTTP 404: Not Found', 'Request 98: HTTP 404: Not Found', 'Request 99: HTTP 404: Not Found', 'Request 100: HTTP 404: Not Found'], memory_usage_mb=[128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125, 128.8125], cpu_percent=[0.0, 9.1, 12.6, 0.0, 15.9, 0.0, 33.8, 21.2, 0.0, 21.5]).success_rate\n\ntests/integration/test_mcp_load_testing.py:465: AssertionError"}, "teardown": {"duration": 0.0013463569339364767, "outcome": "passed"}}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_search_latency_single_user", "lineno": 473, "outcome": "passed", "keywords": ["test_search_latency_single_user", "asyncio", "pytestmark", "TestMCPLatency", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0007693440420553088, "outcome": "passed"}, "call": {"duration": 0.37609899404924363, "outcome": "passed", "stdout": "\n============================================================\nSEARCH LATENCY - SINGLE USER\n============================================================\n{\n  \"total_requests\": 20,\n  \"successful_requests\": 0,\n  \"failed_requests\": 20,\n  \"success_rate_percent\": 0.0,\n  \"total_duration_seconds\": 0.38,\n  \"throughput_rps\": 53.27,\n  \"response_times\": {\n    \"avg_ms\": 18.75,\n    \"min_ms\": 14.54,\n    \"max_ms\": 79.29,\n    \"p50_ms\": 15.55,\n    \"p95_ms\": 79.29,\n    \"p99_ms\": 79.29\n  },\n  \"resource_usage\": {\n    \"avg_memory_mb\": 130.1,\n    \"peak_memory_mb\": 130.1,\n    \"avg_cpu_percent\": 3.25\n  },\n  \"errors\": [\n    \"Request 1: HTTP 404: Not Found\",\n    \"Request 2: HTTP 404: Not Found\",\n    \"Request 3: HTTP 404: Not Found\",\n    \"Request 4: HTTP 404: Not Found\",\n    \"Request 5: HTTP 404: Not Found\",\n    \"Request 6: HTTP 404: Not Found\",\n    \"Request 7: HTTP 404: Not Found\",\n    \"Request 8: HTTP 404: Not Found\",\n    \"Request 9: HTTP 404: Not Found\",\n    \"Request 10: HTTP 404: Not Found\"\n  ],\n  \"error_count\": 20\n}\n"}, "teardown": {"duration": 0.0011006849817931652, "outcome": "passed"}}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_search_latency_concurrent_users", "lineno": 498, "outcome": "passed", "keywords": ["test_search_latency_concurrent_users", "asyncio", "pytestmark", "TestMCPLatency", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0010454740840941668, "outcome": "passed"}, "call": {"duration": 3.4639939200133085, "outcome": "passed", "stdout": "\nConcurrency 1: {\n  \"p50_ms\": 15.356302261352539,\n  \"p95_ms\": 16.22939109802246,\n  \"p99_ms\": 41.88108444213867,\n  \"throughput_rps\": 61.726800558297136\n}\n\nConcurrency 5: {\n  \"p50_ms\": 15.070676803588867,\n  \"p95_ms\": 16.834259033203125,\n  \"p99_ms\": 39.40868377685547,\n  \"throughput_rps\": 62.43558540655362\n}\n\nConcurrency 10: {\n  \"p50_ms\": 15.007376670837402,\n  \"p95_ms\": 16.149044036865234,\n  \"p99_ms\": 46.283721923828125,\n  \"throughput_rps\": 55.47786337086261\n}\n\nConcurrency 20: {\n  \"p50_ms\": 15.18547534942627,\n  \"p95_ms\": 16.799449920654297,\n  \"p99_ms\": 38.34247589111328,\n  \"throughput_rps\": 52.584186270429115\n}\n"}, "teardown": {"duration": 0.00124437699560076, "outcome": "passed"}}, {"nodeid": "tests/integration/test_mcp_load_testing.py::TestMCPLatency::test_rag_query_latency_distribution", "lineno": 536, "outcome": "passed", "keywords": ["test_rag_query_latency_distribution", "asyncio", "pytestmark", "TestMCPLatency", "load", "integration", "test_mcp_load_testing.py", "tests", "crawl4ai-rag-mcp", "", "slow"], "setup": {"duration": 0.0007658770773559809, "outcome": "passed"}, "call": {"duration": 0.44213046599179506, "outcome": "passed", "stdout": "\n============================================================\nRAG QUERY LATENCY DISTRIBUTION\n============================================================\n{\n  \"total_requests\": 100,\n  \"successful_requests\": 0,\n  \"failed_requests\": 100,\n  \"success_rate_percent\": 0.0,\n  \"total_duration_seconds\": 0.44,\n  \"throughput_rps\": 226.55,\n  \"response_times\": {\n    \"avg_ms\": 19.34,\n    \"min_ms\": 13.95,\n    \"max_ms\": 88.44,\n    \"p50_ms\": 15.29,\n    \"p95_ms\": 74.49,\n    \"p99_ms\": 88.44\n  },\n  \"resource_usage\": {\n    \"avg_memory_mb\": 132.17,\n    \"peak_memory_mb\": 132.17,\n    \"avg_cpu_percent\": 15.56\n  },\n  \"errors\": [\n    \"Request 3: HTTP 404: Not Found\",\n    \"Request 4: HTTP 404: Not Found\",\n    \"Request 2: HTTP 404: Not Found\",\n    \"Request 1: HTTP 404: Not Found\",\n    \"Request 5: HTTP 404: Not Found\",\n    \"Request 6: HTTP 404: Not Found\",\n    \"Request 7: HTTP 404: Not Found\",\n    \"Request 8: HTTP 404: Not Found\",\n    \"Request 9: HTTP 404: Not Found\",\n    \"Request 11: HTTP 404: Not Found\"\n  ],\n  \"error_count\": 100\n}\n"}, "teardown": {"duration": 0.0012036699336022139, "outcome": "passed"}}]}