# Load Test Report - 2025-10-25 05:42:48

## Summary

- **Total Tests:** 0
- **Passed:** 0
- **Failed:** 0
- **Duration:** 0.00s
- **Exit Code:** 1

âŒ **Status:** TESTS FAILED

## Errors

Found 4 issue(s):

### 1. Errors
```
ERROR
```

### 2. Errors
```
ERRORS ====================================
_______ ERROR at setup of TestMCPThroughput.test_search_tool_throughput ________
```

### 3. Errors
```
ERROR tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_search_tool_throughput - httpx.HTTPStatusError: Server error '504 Gateway Timeout' for url 'https://rag.melo.eu.org/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504
============================== 1 error in 31.06s ===============================
```

### 4. Errors
```
RuntimeError(
                "Cannot call `raise_for_status` as the request "
                "instance has not been set on this response."
            )
    
        if self.is_success:
            return self
    
        if self.has_redirect_location:
            message = (
                "{error_type} '{0.status_code} {0.reason_phrase}' for url '{0.url}'\n"
                "Redirect location: '{0.headers[location]}'\n"
                "For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/{0.status_code}"
            )
        else:
            message = (
                "{error_type} '{0.status_code} {0.reason_phrase}' for url '{0.url}'\n"
                "For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/{0.status_code}"
            )
    
        status_class = self.status_code // 100
        error_types = {
            1: "Informational response",
            3: "Redirect response",
            4: "Client error",
            5: "Server error",
        }
        error_type = error_types.get(status_class, "Invalid status code")
        message = message.format(self, error_type=error_type)
>       raise HTTPStatusError(message, request=request, response=self)
E       httpx.HTTPStatusError: Server error '504 Gateway Timeout' for url 'https://rag.melo.eu.org/mcp'
E       For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504
```

## Full Test Output

### STDOUT
```
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-8.3.5, pluggy-1.5.0 -- /home/melodeiro/crawl4ai-rag-mcp/.venv/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.13.9', 'Platform': 'Linux-6.1.0-40-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '8.3.5', 'pluggy': '1.5.0'}, 'Plugins': {'metadata': '3.1.1', 'anyio': '4.9.0', 'xdist': '3.8.0', 'cov': '6.2.1', 'json-report': '1.5.0', 'mock': '3.14.0', 'asyncio': '1.1.0'}}
rootdir: /home/melodeiro/crawl4ai-rag-mcp
configfile: pytest.ini
plugins: metadata-3.1.1, anyio-4.9.0, xdist-3.8.0, cov-6.2.1, json-report-1.5.0, mock-3.14.0, asyncio-1.1.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_search_tool_throughput ERROR

==================================== ERRORS ====================================
_______ ERROR at setup of TestMCPThroughput.test_search_tool_throughput ________

    @pytest.fixture
    async def load_tester():
        """Provide load tester instance."""
>       async with MCPLoadTester() as tester:

tests/integration/test_mcp_load_testing.py:348: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/integration/test_mcp_load_testing.py:180: in __aenter__
    await self.client.__aenter__()
.venv/lib/python3.13/site-packages/fastmcp/client/client.py:374: in __aenter__
    return await self._connect()
.venv/lib/python3.13/site-packages/fastmcp/client/client.py:418: in _connect
    raise exception
.venv/lib/python3.13/site-packages/fastmcp/client/client.py:481: in _session_runner
    await stack.enter_async_context(self._context_manager())
../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:668: in enter_async_context
    result = await _enter(cm)
../.local/share/uv/python/cpython-3.13.9-linux-x86_64-gnu/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
.venv/lib/python3.13/site-packages/fastmcp/client/client.py:353: in _context_manager
    with catch(get_catch_handlers()):
.venv/lib/python3.13/site-packages/exceptiongroup/_catch.py:39: in __exit__
    raise unhandled from exc.__cause__
.venv/lib/python3.13/site-packages/exceptiongroup/_catch.py:65: in handle_exception
    result = handler(matched)
.venv/lib/python3.13/site-packages/fastmcp/utilities/exceptions.py:29: in _exception_handler
    raise leaf
.venv/lib/python3.13/site-packages/mcp/client/streamable_http.py:409: in handle_request_async
    await self._handle_post_request(ctx)
.venv/lib/python3.13/site-packages/mcp/client/streamable_http.py:278: in _handle_post_request
    response.raise_for_status()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Response [504 Gateway Timeout]>

    def raise_for_status(self) -> Response:
        """
        Raise the `HTTPStatusError` if one occurred.
        """
        request = self._request
        if request is None:
            raise RuntimeError(
                "Cannot call `raise_for_status` as the request "
                "instance has not been set on this response."
            )
    
        if self.is_success:
            return self
    
        if self.has_redirect_location:
            message = (
                "{error_type} '{0.status_code} {0.reason_phrase}' for url '{0.url}'\n"
                "Redirect location: '{0.headers[location]}'\n"
                "For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/{0.status_code}"
            )
        else:
            message = (
                "{error_type} '{0.status_code} {0.reason_phrase}' for url '{0.url}'\n"
                "For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/{0.status_code}"
            )
    
        status_class = self.status_code // 100
        error_types = {
            1: "Informational response",
            3: "Redirect response",
            4: "Client error",
            5: "Server error",
        }
        error_type = error_types.get(status_class, "Invalid status code")
        message = message.format(self, error_type=error_type)
>       raise HTTPStatusError(message, request=request, response=self)
E       httpx.HTTPStatusError: Server error '504 Gateway Timeout' for url 'https://rag.melo.eu.org/mcp'
E       For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504

.venv/lib/python3.13/site-packages/httpx/_models.py:829: HTTPStatusError
--------------------------------- JSON report ----------------------------------
report saved to: tests/results/test_results_20251025_054215.json
=========================== short test summary info ============================
ERROR tests/integration/test_mcp_load_testing.py::TestMCPThroughput::test_search_tool_throughput - httpx.HTTPStatusError: Server error '504 Gateway Timeout' for url 'https://rag.melo.eu.org/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504
============================== 1 error in 31.06s ===============================

```

## Recommendations

